import{T as m}from"./TemplateSetup-ipu4YVM1.js";import{_ as w,c as f,w as a,r,o as h,e as n,v as i,b as o,a as p,d}from"./index-DoLeudfR.js";import"./UtilityNavbar-CME5RMjk.js";import"./TemplateDefault-DTWeddms.js";const g={components:{TemplateSetup:m},data:()=>({token:"",email:"",password:""}),inject:["io"],created(){this.token=this.$route.query.token},methods:{async reset(){try{await this.io.service("users_recover").patch(this.email,{token:this.token,password:this.password}),alert("Password has been reset, you can now log in using your new password"),this.$router.push("/login")}catch(e){alert("Reset password failed"),console.log("Error",e)}}}},k=o("h2",{class:"mb-2"}," JSTune ",-1);function x(e,t,b,v,_,u){const l=r("router-link"),c=r("TemplateSetup");return h(),f(c,null,{default:a(()=>[k,n(o("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.email=s),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"E-mail"},null,512),[[i,e.email]]),n(o("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>e.password=s),type:"password",class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Password"},null,512),[[i,e.password]]),o("button",{onClick:t[2]||(t[2]=s=>u.reset()),class:"hover:bg-fuchsia-950 mt-4 rounded-lg bg-fuchsia-900 w-full p-3"}," Reset "),p(l,{to:"/login",class:"hover:text-slate-200 mt-6 inline-block text-center w-full"},{default:a(()=>[d(" Go to login ")]),_:1}),p(l,{to:"/register",class:"mt-3 hover:text-slate-200 inline-block text-center w-full"},{default:a(()=>[d(" Request access ")]),_:1})]),_:1})}const V=w(g,[["render",x]]);export{V as default};
