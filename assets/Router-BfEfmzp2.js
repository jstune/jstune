import{W as w}from"./UtilityNavbar-6gcwC9oc.js";import v from"./TemplateDefault-C_4YdmM2.js";import{S as f}from"./SectionHero-B940UzSg.js";import{_ as g,c as y,w as u,r as b,o as p,a as x,b as e,d as o,v as l,e as n,f as i,g as U,F as V,t as C}from"./index-IS7rY9yO.js";const z={components:{WrapperPage:w,TemplateDefault:v,SectionHero:f},inject:["menus","io"],props:["renderer"],data:()=>({items:null,service:"proxy",create:{hostname:"",redirect_url:"",redirect_status:"",port:"",force_https:!0,auto_ssl:!0,subdomain_fallback:!0,oauth_origin:!0}}),async created(){this.resetCreate(),await this.getItems()},methods:{openItem(a){var c;let s=["studio.vueplay.com","next.vueplay.com","localhost"].includes((c=parent==null?void 0:parent.location)==null?void 0:c.hostname)?":8000":"";window.open("http://"+a.hostname+s,"_blank")},async getItems(){try{this.items=await this.io.service(this.service).find({query:{}})}catch(a){console.log(a.message)}},async createItem(){try{await this.io.service(this.service).create(this.create),await this.getItems(),this.resetCreate()}catch(a){console.error(a),alert(a.message)}},async updateItem(a){try{const s=await this.io.service(this.service).update(a.id,a);for(const c of Object.keys(a))a[c]=s[c]}catch(s){console.error(s),alert(s.message)}},async saveItems(){var a;for(const s of((a=this.items)==null?void 0:a.data)||[])await this.updateItem(s);alert("All Updated")},async removeItem(a){try{await this.io.service(this.service).remove(a.id),await this.getItems()}catch(s){console.error(s),alert(s.message)}},resetCreate(){this.create={hostname:"",redirect_url:"",redirect_status:"",port:"",force_https:!0,auto_ssl:!0,subdomain_fallback:!0,oauth_origin:!0}}}},I=e("h1",{class:"font-thin text-xl lg:text-3xl xl:pl-6 w-full text-center uppercase"}," Router ",-1),M={class:"relative overflow-auto w-full"},S=e("h2",{class:"text-center"}," @todo - Show leader node ip address here ",-1),H=e("h2",{class:"text-center"}," Feathers = 5050, Static = 6060, Admin = 9090, Fallback = 8080, Http = 8000, Https = 443 ",-1),A=e("h2",{class:"text-center",style:{height:"24px"}}," ?app_url= will redirect to another url (oauth origin required) ",-1),B=e("h2",{class:"text-center"}," Ex: http://localhost:8000/oauth/github?app_url=http://banana.localhost:8000 ",-1),R={class:"flex-row-reverse flex"},D={class:"overflow-auto shadow-sm my-8"},F={class:"border-collapse table-auto w-full text-sm"},P=e("thead",null,[e("tr",null,[e("th",{class:"border-b dark:border-slate-600 font-medium p-4 pl-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left"}," ID "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Hostname "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Redirect URL "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Redirect Status "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," App Port "),e("th",{class:"whitespace-nowrap text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Auto SSL "),e("th",{class:"whitespace-nowrap text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Force HTTPS "),e("th",{class:"whitespace-nowrap text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Subdomain Fallback "),e("th",{class:"whitespace-nowrap text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," OAuth Origin "),e("th",{class:"whitespace-nowrap text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Created at "),e("th",{class:"whitespace-nowrap text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Updated at "),e("th",{class:"border-b dark:border-slate-600 font-medium p-4 pr-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-center"}," Publish "),e("th",{class:"border-b dark:border-slate-600 font-medium p-4 pr-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-center"}," View "),e("th",{class:"border-b dark:border-slate-600 font-medium p-4 pr-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-center"}," Remove ")])],-1),T={class:"bg-white dark:bg-slate-800"},L=e("td",{class:"text-ellipsis overflow-hidden border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400"},null,-1),W={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},O={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},j={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},q={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},E={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},N={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},G={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},J={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},K=e("td",{class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},[e("input",{class:"shadow"})],-1),Q=e("td",{class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},[e("input",{class:"shadow"})],-1),X={class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},Y=e("path",{"fill-rule":"evenodd",d:"M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 01.75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 019.75 22.5a.75.75 0 01-.75-.75v-4.131A15.838 15.838 0 016.382 15H2.25a.75.75 0 01-.75-.75 6.75 6.75 0 017.815-6.666zM15 6.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z","clip-rule":"evenodd"},null,-1),Z=e("path",{d:"M5.26 17.242a.75.75 0 10-.897-1.203 5.243 5.243 0 00-2.05 5.022.75.75 0 00.625.627 5.243 5.243 0 005.022-2.051.75.75 0 10-1.202-.897 3.744 3.744 0 01-3.008 1.51c0-1.23.592-2.323 1.51-3.008z"},null,-1),$=[Y,Z],ee=e("td",{class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700"},[e("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}),e("path",{"fill-rule":"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 010-1.113zM17.25 12a5.25 5.25 0 11-10.5 0 5.25 5.25 0 0110.5 0z","clip-rule":"evenodd"})])],-1),te=e("td",{class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})])],-1),ae={class:"text-ellipsis overflow-hidden border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400"},se={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},re=["onUpdate:modelValue"],oe={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},le=["onUpdate:modelValue"],de={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},ne=["onUpdate:modelValue"],ce={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},pe=["onUpdate:modelValue"],ie={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},ue=["onUpdate:modelValue"],be={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},he=["onUpdate:modelValue"],xe={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},_e=["onUpdate:modelValue"],me={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},ke=["onUpdate:modelValue"],we={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},ve=["onUpdate:modelValue"],fe={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},ge=["onUpdate:modelValue"],ye={class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},Ue=["onClick"],Ve=e("path",{"fill-rule":"evenodd",d:"M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 01.75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 019.75 22.5a.75.75 0 01-.75-.75v-4.131A15.838 15.838 0 016.382 15H2.25a.75.75 0 01-.75-.75 6.75 6.75 0 017.815-6.666zM15 6.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z","clip-rule":"evenodd"},null,-1),Ce=e("path",{d:"M5.26 17.242a.75.75 0 10-.897-1.203 5.243 5.243 0 00-2.05 5.022.75.75 0 00.625.627 5.243 5.243 0 005.022-2.051.75.75 0 10-1.202-.897 3.744 3.744 0 01-3.008 1.51c0-1.23.592-2.323 1.51-3.008z"},null,-1),ze=[Ve,Ce],Ie={class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},Me=["onClick"],Se=e("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"},null,-1),He=e("path",{"fill-rule":"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 010-1.113zM17.25 12a5.25 5.25 0 11-10.5 0 5.25 5.25 0 0110.5 0z","clip-rule":"evenodd"},null,-1),Ae=[Se,He],Be={class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},Re=["onClick"],De=e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"},null,-1),Fe=[De];function Pe(a,s,c,Te,Le,d){const _=b("SectionHero"),m=b("WrapperPage"),k=b("TemplateDefault");return p(),y(k,{title:"Hostname port routing",renderer:c.renderer},{default:u(()=>[x(_,null,{default:u(()=>[I]),_:1}),x(m,{class:"max-w-screen-2xl p-6"},{default:u(()=>{var h;return[e("div",M,[S,H,A,B,e("div",R,[e("button",{class:"rounded p-2 bg-slate-200",onClick:s[0]||(s[0]=(...t)=>d.getItems&&d.getItems(...t))}," Reload "),e("button",{class:"mr-2 rounded p-2 bg-slate-200",onClick:s[1]||(s[1]=(...t)=>d.saveItems&&d.saveItems(...t))}," Save all ")]),e("div",D,[e("table",F,[P,e("tbody",T,[e("tr",null,[L,e("td",W,[o(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>a.create.hostname=t),class:"shadow"},null,512),[[l,a.create.hostname]])]),e("td",O,[o(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>a.create.redirect_url=t),class:"shadow"},null,512),[[l,a.create.redirect_url]])]),e("td",j,[o(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>a.create.redirect_status=t),class:"shadow",type:"number"},null,512),[[l,a.create.redirect_status]])]),e("td",q,[o(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>a.create.port=t),type:"number",class:"shadow"},null,512),[[l,a.create.port]])]),e("td",E,[o(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>a.create.auto_ssl=t),class:"shadow",type:"checkbox"},null,512),[[n,a.create.auto_ssl]])]),e("td",N,[o(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>a.create.force_https=t),class:"shadow",type:"checkbox"},null,512),[[n,a.create.force_https]])]),e("td",G,[o(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>a.create.subdomain_fallback=t),class:"shadow",type:"checkbox"},null,512),[[n,a.create.subdomain_fallback]])]),e("td",J,[o(e("input",{"onUpdate:modelValue":s[9]||(s[9]=t=>a.create.oauth_origin=t),class:"shadow",type:"checkbox"},null,512),[[n,a.create.oauth_origin]])]),K,Q,e("td",X,[(p(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700",onClick:s[10]||(s[10]=(...t)=>d.createItem&&d.createItem(...t))},$))]),ee,te]),(p(!0),i(V,null,U((h=a.items)==null?void 0:h.data,t=>(p(),i("tr",null,[e("td",ae,C(t.id),1),e("td",se,[o(e("input",{class:"shadow","onUpdate:modelValue":r=>t.hostname=r,style:{height:"20px"}},null,8,re),[[l,t.hostname]])]),e("td",oe,[o(e("input",{class:"shadow","onUpdate:modelValue":r=>t.redirect_url=r},null,8,le),[[l,t.redirect_url]])]),e("td",de,[o(e("input",{class:"shadow","onUpdate:modelValue":r=>t.redirect_status=r,type:"number",style:{height:"20px"}},null,8,ne),[[l,t.redirect_status]])]),e("td",ce,[o(e("input",{class:"shadow","onUpdate:modelValue":r=>t.port=r,type:"number"},null,8,pe),[[l,t.port]])]),e("td",ie,[o(e("input",{class:"shadow",type:"checkbox","onUpdate:modelValue":r=>t.auto_ssl=r},null,8,ue),[[n,t.auto_ssl]])]),e("td",be,[o(e("input",{class:"shadow",type:"checkbox","onUpdate:modelValue":r=>t.force_https=r},null,8,he),[[n,t.force_https]])]),e("td",xe,[o(e("input",{class:"shadow",type:"checkbox","onUpdate:modelValue":r=>t.subdomain_fallback=r},null,8,_e),[[n,t.subdomain_fallback]])]),e("td",me,[o(e("input",{class:"shadow",type:"checkbox","onUpdate:modelValue":r=>t.oauth_origin=r},null,8,ke),[[n,t.oauth_origin]])]),e("td",we,[o(e("input",{class:"shadow","onUpdate:modelValue":r=>t.created_at=r},null,8,ve),[[l,t.created_at]])]),e("td",fe,[o(e("input",{class:"shadow","onUpdate:modelValue":r=>t.updated_at=r},null,8,ge),[[l,t.updated_at]])]),e("td",ye,[(p(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700",onClick:r=>d.updateItem(t)},ze,8,Ue))]),e("td",Ie,[(p(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700",onClick:r=>d.openItem(t)},Ae,8,Me))]),e("td",Be,[(p(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700",onClick:r=>d.removeItem(t)},Fe,8,Re))])]))),256))])])])])]}),_:1})]),_:1},8,["renderer"])}const Ee=g(z,[["render",Pe]]);export{Ee as default};
