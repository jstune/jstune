import{W as h}from"./UtilityNavbar-BieUOay1.js";import x from"./TemplateDefault-DXRZjYN4.js";import{S as g}from"./SectionHero-CfOT9i2k.js";import{_ as w,c as b,w as n,r as c,o as d,a as m,b as e,t as o,g as f,h as v,F as k,d as i}from"./index-mJ50ddx9.js";const y={components:{WrapperPage:h,TemplateDefault:x,SectionHero:g},inject:["io"],props:["renderer"],data:()=>({address:"",workers:[]}),async created(){try{await this.inspectLeader(),await this.getWorkers()}catch{}},methods:{async getWorkers(){this.workers=await this.io.service("workers").find()},async inspectLeader(){var r;const t=await this.io.service("state").get();if(t.leaderIP)this.address=t.leaderIP;else{const s=await this.io.service("docker_nodes").find({query:{leader:!0}}),a=(r=s==null?void 0:s.data)==null?void 0:r[0];a&&(this.address=a.address)}}}},W=e("h1",{class:"font-thin text-xl lg:text-3xl xl:pl-6 w-full text-center"}," Monitor ",-1),D={class:"flex-col max-w-md place-self-center mt-8 mb-24 w-full flex md:max-w-4xl"},P=e("h1",{class:"px-4 mb-2 mt-6 font-medium text-3xl w-full"}," Cluster Workers ",-1),S={class:"px-4 mb-4 mt-2 font-medium text-xl w-full"},B={class:"mt-6 relative mb-16 flex-col md:flex-row flex w-full px-4"},I={class:"grid-cols-2 md:grid-cols-3 gap-11 grid w-full"},L={class:"p-4 bg-slate-700 from-slate-800 aspect-video shadow-md rounded-lg items-center justify-center flex-col bg-gradient-to-tr flex cursor-pointer hover:opacity-80"},T={class:"text-slate-100"},C=e("br",null,null,-1),H=e("br",null,null,-1),N=e("div",{class:"-mb-8 bg-slate-100 -bottom-5 absolute h-0.5 left-4 right-4"},null,-1);function V(t,r,s,a,$,j){const p=c("SectionHero"),_=c("WrapperPage"),u=c("TemplateDefault");return d(),b(u,{renderer:s.renderer},{default:n(()=>[m(p,null,{default:n(()=>[W]),_:1}),m(_,{class:"flex-col"},{default:n(()=>[e("div",D,[P,e("h1",S," Leader node address: "+o(t.address),1),e("div",B,[e("div",I,[(d(!0),f(k,null,v(t.workers,l=>(d(),f("div",L,[e("h2",T,[i(" ID: "+o(l.id)+" ",1),C,i(" PID: "+o(l.pid)+" ",1),H,i(" State: "+o(l.state),1)])]))),256))]),N])])]),_:1})]),_:1},8,["renderer"])}const z=w(y,[["render",V]]);export{z as default};
