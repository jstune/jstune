import{T as r}from"./TemplateSetup-CWkD3v60.js";import{_ as c,c as d,w as u,r as p,o as h,d as n,e as a,b as t,t as g,h as f}from"./index-M-TW_Efg.js";import"./UtilityNavbar-CkYrKIBY.js";import"./TemplateDefault-zM_48pXc.js";const m={inject:["io"],components:{TemplateSetup:r},data:()=>({config:{agreed:!1,production:!1},loading:!1}),async created(){await this.connect()},methods:{async connect(){this.loading=!0;const e=await this.io.service("setup").get("letsencrypt");this.resolve(e)},async setup(e=!1){this.loading=!0;let s=await this.io.service("setup").update("letsencrypt",{...this.config,create:e});this.resolve(s)},async resolve(e){e&&!e.ready||this.$router.push("/login"),this.loading=!1}}},b=t("h2",{class:"mb-2"},[f(" Lets Encrypt "),t("a",{href:"https://community.letsencrypt.org/tos",target:"_blank",class:"hover:text-slate-200"}," Terms of Service ")],-1),y=t("br",null,null,-1),_=t("label",null,"Agree",-1),v=t("br",null,null,-1),S=t("label",null,"Production?",-1),k=["disabled"],w={class:"mt-2"};function T(e,s,$,C,V,l){const i=p("TemplateSetup");return h(),d(i,null,{default:u(()=>[b,y,_,n(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>e.config.agreed=o),class:"float-right",type:"checkbox"},null,512),[[a,e.config.agreed]]),v,S,n(t("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>e.config.production=o),class:"float-right",type:"checkbox"},null,512),[[a,e.config.production]]),t("button",{onClick:s[2]||(s[2]=o=>l.setup()),disabled:e.loading,class:"hover:bg-fuchsia-950 mt-4 rounded-lg bg-fuchsia-900 w-full p-3",title:"Install using already running database instance"}," Submit ",8,k),t("h2",w," Loading: "+g(e.loading),1)]),_:1})}const E=c(m,[["render",T]]);export{E as default};
