import{T as p}from"./TemplateSetup-UCfajeyk.js";import{_ as c,c as m,w as f,r as g,o as i,g as h,d as l,b as s,e as n,v as d,k as w,t as r}from"./index-BKYGmNch.js";import"./UtilityNavbar-B_xm-8mo.js";import"./TemplateDefault-BXVE7adv.js";const b={inject:["io"],components:{TemplateSetup:p},data:()=>({config:{host:"",port:"",username:"",password:""},platform:"",sudoPassword:"",loading:!1}),async created(){await this.connect()},methods:{async connect(){this.loading=!0;const e=await this.io.service("setup").get("docker");this.resolve(e)},async autoSetup(){this.loading=!0;let e=await this.io.service("setup").update("docker",{sudo:this.sudoPassword});this.resolve(e)},async setup(){this.loading=!0;let e=await this.io.service("setup").update("docker",this.config);this.resolve(e)},async resolve(e){e&&!e.ready?(this.config=e.config,this.platform=e.platform):this.$router.push("/login"),this.loading=!1}}},k={key:0},y=s("h2",{class:"mb-2"}," Setup Docker Automatically ",-1),v=["disabled"],S=s("h2",{class:"mb-2"}," Connect to docker ",-1),C=["disabled"],V=s("h2",{class:"mt-6"}," Install and start docker desktop manually and try to reconnect. ",-1),P=["disabled"],T={class:"mt-2"};function x(e,t,U,B,D,a){const u=g("TemplateSetup");return i(),m(u,null,{default:f(()=>[e.platform==="linux"?(i(),h("div",k,[y,l(),s("button",{onClick:t[0]||(t[0]=(...o)=>a.autoSetup&&a.autoSetup(...o)),disabled:e.loading,class:"hover:bg-fuchsia-950 mb-4 rounded-lg bg-fuchsia-900 w-full p-3",title:"Install and/or start docker on your machine"}," Auto install ",8,v),l(),n(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>e.sudoPassword=o),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Sudo user password:"},null,512),[[d,e.sudoPassword]])])):w("",!0),S,l(),n(s("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>e.config.host=o),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Host: 127.0.0.1"},null,512),[[d,e.config.host]]),l(),n(s("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>e.config.port=o),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Port: 2375"},null,512),[[d,e.config.port]]),l(),n(s("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>e.config.username=o),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Username:"},null,512),[[d,e.config.username]]),l(),n(s("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>e.config.password=o),class:"font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Password:"},null,512),[[d,e.config.password]]),l(),s("button",{onClick:t[6]||(t[6]=(...o)=>a.setup&&a.setup(...o)),disabled:e.loading,class:"hover:bg-fuchsia-950 mt-4 rounded-lg bg-fuchsia-900 w-full p-3",title:"Install using already running docker instance"}," Connect ",8,C),V,l(),s("button",{disabled:e.loading,onClick:t[7]||(t[7]=(...o)=>a.connect&&a.connect(...o)),class:"hover:bg-fuchsia-950 mt-4 rounded-lg bg-fuchsia-900 w-full p-3",title:"Install using already running docker instance"}," Re-connect ",8,P),s("h2",T," Platform: "+r(e.platform)+" Loading: "+r(e.loading),1)]),_:1})}const E=c(b,[["render",x]]);export{E as default};
