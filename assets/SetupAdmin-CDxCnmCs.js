import{T as d}from"./TemplateSetup-ipu4YVM1.js";import{_ as r,c as p,w as u,r as c,o as m,d as f,e as o,v as i,b as s,t as g}from"./index-DoLeudfR.js";import"./UtilityNavbar-CME5RMjk.js";import"./TemplateDefault-DTWeddms.js";const h={inject:["io"],components:{TemplateSetup:d},data:()=>({config:{email:"",password:""},loading:!1}),async created(){await this.connect()},methods:{async connect(){this.loading=!0;const e=await this.io.service("setup").get("admin");this.resolve(e)},async setup(e=!1){this.loading=!0;let t=await this.io.service("setup").update("admin",{...this.config,create:e});this.resolve(t)},async resolve(e){console.log("res",e),e&&!e.ready||this.$router.push("/login"),this.loading=!1}}},w=s("h2",{class:"mb-2"}," Create Admin User ",-1),b=["disabled"],v={class:"mt-2"};function y(e,t,S,T,x,n){const l=c("TemplateSetup");return m(),p(l,null,{default:u(()=>[w,f(),o(s("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.config.email=a),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Email:"},null,512),[[i,e.config.email]]),o(s("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>e.config.password=a),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Password:",type:"password"},null,512),[[i,e.config.password]]),s("button",{onClick:t[2]||(t[2]=a=>n.setup()),disabled:e.loading,class:"hover:bg-fuchsia-950 mt-4 rounded-lg bg-fuchsia-900 w-full p-3",title:"Install using already running database instance"}," Submit ",8,b),s("h2",v," Loading: "+g(e.loading),1)]),_:1})}const k=r(h,[["render",y]]);export{k as default};
